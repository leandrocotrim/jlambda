var $l={};$l.start=function(){var fna=Array.prototype;LambdaType={WHERE:1,SELECT:2,DISTINCT:3,FIRST:4,LAST:5,COUNT:6,ANY:7,EACH:8,AGGREGATE:9,SUM:10,MIN:11,MAX:12,AVG:13},Lambda=function(arrSelf,lambdaType,expression){expression=expression||function(r){return r};var func=expression;if("function"!=typeof expression){var strAllExpression=expression;"string"!=typeof expression&&(strAllExpression=expression.toString().substring(1,expression.toString().length-1));var indexVar=strAllExpression.indexOf("=>"),strParameters=strAllExpression.substring(0,indexVar),strExpression=strAllExpression.substring(indexVar+2,strAllExpression.length);eval("func = function("+strParameters+"){ "+(lambdaType==LambdaType.EACH?"":"return ")+strExpression+";}")}var arr=[];switch(lambdaType){case LambdaType.WHERE:for(var i=0;i<arrSelf.length;i++)func(arrSelf[i],i,arrSelf)&&arr.push(arrSelf[i]);break;case LambdaType.SELECT:for(var i=0;i<arrSelf.length;i++)arr.push(func(arrSelf[i],i,arrSelf));break;case LambdaType.DISTINCT:for(var arrTemp=[],i=0;i<arrSelf.length;i++){var result=func(arrSelf[i],i,arrSelf);arrTemp.Contains(result)||arr.push(arrSelf[i]),arrTemp.push(result)}break;case LambdaType.FIRST:for(var i=0;i<arrSelf.length;i++)if(func(arrSelf[i],i,arrSelf))return arrSelf[i];return null;case LambdaType.LAST:for(var i=arrSelf.length-1;i>-1;i--)if(func(arrSelf[i],i,arrSelf))return arrSelf[i];return null;case LambdaType.COUNT:for(var count=0,i=0;i<arrSelf.length;i++)func(arrSelf[i],i,arrSelf)&&count++;return count;case LambdaType.ANY:for(var i=0;i<arrSelf.length;i++)if(func(arrSelf[i],i,arrSelf))return!0;return!1;case LambdaType.EACH:for(var i=0;i<arrSelf.length;i++)func(arrSelf[i],i,arrSelf);return;case LambdaType.AGGREGATE:for(var agreggate=null,i=0;i<arrSelf.length;i++)agreggate=func(agreggate,arrSelf[i],i,arrSelf);return agreggate;case LambdaType.SUM:for(var sum,i=0;i<arrSelf.length;i++){var r=func(arrSelf[i],i,arrSelf);sum?sum+=r:sum=r}return sum;case LambdaType.MIN:for(var min,obj,i=0;i<arrSelf.length;i++){var r=func(arrSelf[i],i,arrSelf);(!min||r<min)&&(min=r,obj=arrSelf[i])}return obj;case LambdaType.MAX:for(var max,obj,i=0;i<arrSelf.length;i++){var r=func(arrSelf[i],i,arrSelf);(!max||r>max)&&(max=r,obj=arrSelf[i])}return obj;case LambdaType.AVG:return arrSelf.Sum(func)/arrSelf.length}return arr},fna.Where=function(r){return Lambda(this,LambdaType.WHERE,r)},fna.Select=function(r){return Lambda(this,LambdaType.SELECT,r)},fna.Distinct=function(r){return Lambda(this,LambdaType.DISTINCT,r)},fna.Single=fna.Find=fna.First=function(r){return Lambda(this,LambdaType.FIRST,r)},fna.Last=function(r){return Lambda(this,LambdaType.LAST,r)},fna.Count=function(r){return r?Lambda(this,LambdaType.COUNT,r):this.length},fna.Any=function(r){return r?Lambda(this,LambdaType.ANY,r):this.length>0},fna.None=function(r){return!this.Any(r)},fna.Each=function(r){Lambda(this,LambdaType.EACH,r)},fna.Aggregate=function(r){return Lambda(this,LambdaType.AGGREGATE,r)},fna.Sum=function(r){return Lambda(this,LambdaType.SUM,r)},fna.Min=function(r){return Lambda(this,LambdaType.MIN,r)},fna.Max=function(r){return Lambda(this,LambdaType.MAX,r)},fna.Average=function(r){return Lambda(this,LambdaType.AVG,r)},fna.IndexOf=function(r){for(var a=0;a<this.length;a++)if(this[a].Equals(r))return a;return-1},fna.Contains=function(r){return this.IndexOf(r)>-1},fna.Reverse=function(){for(var r=[],a=this.length-1;a>-1;a--)r.push(this[a]);return r};var fno=Object.prototype;fno.Equals=function(r){return JSON.stringify(this)===JSON.stringify(r)},fno.Different=function(r){return!this.Equals(r)};var fns=String.prototype;fns.ToArray=function(){return this.split("")},fns.Equals=function(r){return this.toString()===r}};